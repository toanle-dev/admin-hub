<section class="menu bg-base-200 rounded-box flex flex-col w-96 h-screen p-0">
  <!-- Título fixo no topo -->
  <header class="text-lg font-bold p-4 shadow grid grid-cols-2">
    <p>Histórico de Pedidos</p>
  </header>

  <!-- Conteúdo rolável -->
  <main class="flex-1 overflow-y-auto p-4">
    @if (showFeatureToggleContact) {
    <section class="grid grid-cols-5 gap-2">
      <app-input
        [(ngModel)]="phone"
        class="col-span-4"
        label="Telefone de contato"
        [phone]="true"
      ></app-input>
      <div class="flex flex-col justify-end items-center">
        <app-button (click)="listOrders()" class="w-full" theme="primary"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"
            />
          </svg>
        </app-button>
      </div>
    </section>
    }

    <section class="grid grid-cols-1 gap-4">
      @for (order of viewOrders(); track $index) {
      <div
        class="card bg-base-100 shadow-md border border-gray-200 animate-fade-right"
      >
        <div class="card-body">
          <h2 class="card-title text-lg font-bold">
            Pedido #{{ order.id }}
            <p class="text-right">
              <span class="badge badge-warning">{{ order.status.name }}</span>
            </p>
          </h2>

          <p class="text-xs font-semibold">
            {{ order.createdAt }}
          </p>

          <p>
            <strong>Total:</strong> {{ order.totalAmount | currency : "BRL" }}
          </p>
          <p>
            <strong>Endereço:</strong> {{ order.deliveryAddress.street }},
            {{ order.deliveryAddress.number }},
            {{ order.deliveryAddress.postalCode }}
          </p>
          <h3 class="font-semibold divider">Itens</h3>
          <ul class="list-disc list-inside">
            @for (item of order.items ; track $index) {

            <li>
              <p class="p-0">
                <span class="font-semibold">
                  {{ item.quantity }}x {{ item.price | currency : "BRL" }}</span
                >
                {{ item.product.name }}
              </p>
            </li>
            }
          </ul>
        </div>
      </div>
      }
    </section>
  </main>

  <!-- Rodapé fixo na parte inferior -->
  <footer class="text-center p-4"></footer>
</section>
